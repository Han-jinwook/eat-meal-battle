(()=>{var e={};e.id=409,e.ids=[409],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14087:(e,r,o)=>{"use strict";o.r(r),o.d(r,{patchFetch:()=>x,routeModule:()=>p,serverHooks:()=>h,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>d});var s={};o.r(s),o.d(s,{GET:()=>i});var t=o(48106),n=o(48819),a=o(12050),l=o(4235);let c=process.env.NEIS_API_KEY||"cd3edd777f534caca0100e7c006d4dcd";async function i(e){let{searchParams:r}=new URL(e.url),o=r.get("keyword");if(!o)return l.NextResponse.json({error:"검색어를 입력하세요"},{status:400});try{let e=new URLSearchParams({KEY:c,Type:"json",pIndex:"1",pSize:"10",SCHUL_NM:o}),r=`https://open.neis.go.kr/hub/schoolInfo?${e.toString()}`;console.log(`API 요청 URL: ${r}`);let s=await fetch(r);if(!s.ok)throw console.error(`API 응답 상태 코드: ${s.status}`),Error("교육부 API 호출 실패");let t=await s.json();console.log("API 응답 데이터:",JSON.stringify(t,null,2));let n=[];return t.RESULT&&"INFO-200"===t.RESULT.CODE?(console.log(`검색어 "${o}"에 대한 검색 결과가 없습니다.`),(o.includes("시")||o.includes("도")||o.includes("군")||o.includes("구"))&&console.log("지역명이 감지되어 추가 검색을 시도합니다.")):t.schoolInfo&&Array.isArray(t.schoolInfo)?t.schoolInfo.length>1&&t.schoolInfo[1].row?n=t.schoolInfo[1].row:console.log("학교 정보를 찾을 수 없습니다. API 응답 구조:",t):t.RESULT&&"SUCCESS"!==t.RESULT.CODE?console.error(`API 오류: ${t.RESULT.CODE} - ${t.RESULT.MESSAGE||"알 수 없는 오류"}`):console.error("예상치 못한 API 응답 구조:",t),l.NextResponse.json({schools:n})}catch(e){return console.error("학교 검색 API 오류:",e),l.NextResponse.json({error:"학교 정보를 가져오는 중 오류가 발생했습니다"},{status:500})}}console.log(`NEIS API KEY 사용 여부: ${c?"설정됨":"설정되지 않음"}`);let p=new t.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/schools/route",pathname:"/api/schools",filename:"route",bundlePath:"app/api/schools/route"},resolvedPagePath:"D:\\Windsurf\\eat-meal-battle\\apps\\app\\src\\app\\api\\schools\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:u,workUnitAsyncStorage:d,serverHooks:h}=p;function x(){return(0,a.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:d})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},80408:()=>{},87032:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),s=r.X(0,[50,744],()=>o(14087));module.exports=s})();