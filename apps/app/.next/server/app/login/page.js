(()=>{var e={};e.id=520,e.ids=[520],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(41253);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},18980:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Windsurf\\\\eat-meal-battle\\\\apps\\\\app\\\\src\\\\app\\\\login\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Windsurf\\eat-meal-battle\\apps\\app\\src\\app\\login\\page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(13486),o=r(60159),a=r(605),i=r(2984),n=r(49989),l=r.n(n);function c(){let[e,t]=(0,o.useState)(!1),[r,n]=(0,o.useState)(null);(0,i.useRouter)(),(0,i.useSearchParams)();let c=(0,a.U)(),d=async()=>{try{t(!0),n(null),console.log("구글 로그인 시도 중...");let e=window.location.origin,r=e.includes("localhost")?"http://localhost:3001/auth/callback":`${e}/auth/callback`;console.log("리디렉션 URL:",r),await c.auth.signOut(),Object.keys(localStorage).forEach(e=>{(e.includes("supabase")||e.includes("google")||e.includes("oauth"))&&localStorage.removeItem(e)});let s=Math.random().toString(36).substring(2,15),{data:o,error:a}=await c.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${r}?state=${s}&t=${Date.now()}`,skipBrowserRedirect:!1,queryParams:{access_type:"offline",prompt:"select_account consent",include_granted_scopes:"false"}}});if(a)throw console.error("구글 로그인 오류:",a),a;console.log("로그인 성공, 리다이렉트 완료:",o)}catch(e){console.error("로그인 시도 중 오류:",e),n(e.message||"구글 로그인 중 오류가 발생했습니다."),t(!1)}},u=async()=>{try{t(!0),n(null),console.log("카카오 로그인 시도 중...");let e=window.location.origin,r=e.includes("localhost")?"http://localhost:3001/auth/callback":`${e}/auth/callback`;console.log("리디렉션 URL:",r),await c.auth.signOut(),Object.keys(localStorage).forEach(e=>{(e.includes("supabase")||e.includes("kakao")||e.includes("oauth"))&&localStorage.removeItem(e)});let s=Math.random().toString(36).substring(2,15),{data:o,error:a}=await c.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${r}?state=${s}&t=${Date.now()}`,skipBrowserRedirect:!1,queryParams:{prompt:"login consent",scope:"profile_nickname,profile_image,account_email"}}});if(a)throw console.error("카카오 로그인 오류:",a),a;console.log("로그인 성공, 리다이렉트 완료:",o)}catch(e){console.error("로그인 시도 중 오류:",e),n(e.message||"카카오 로그인 중 오류가 발생했습니다."),t(!1)}};return(0,s.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md space-y-8 rounded-lg bg-white p-6 shadow-md",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"급식배틀"}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:"소셜 계정으로 로그인하세요"})]}),r&&(0,s.jsx)("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-700",children:r}),(0,s.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,s.jsxs)("button",{onClick:d,disabled:e,className:"flex w-full items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",children:[(0,s.jsx)("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z",fill:"#4285F4"})}),e?"로그인 중...":"Google로 로그인"]}),(0,s.jsxs)("button",{onClick:u,disabled:e,className:"flex w-full items-center justify-center rounded-md border border-gray-300 bg-[#FEE500] px-4 py-2 text-gray-900 shadow-sm hover:bg-[#F3D900] focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 disabled:opacity-50",children:[(0,s.jsx)("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M12 3C7.03125 3 3 6.03125 3 9.75C3 12.3125 4.71875 14.5312 7.21875 15.5625L6.46875 18.5625C6.40625 18.7812 6.625 18.9688 6.84375 18.8438L10.6562 16.2812C11.0938 16.3438 11.5312 16.375 12 16.375C16.9688 16.375 21 13.3438 21 9.625C21 5.90625 16.9688 3 12 3Z",fill:"black"})}),e?"로그인 중...":"카카오로 로그인"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-4 p-2 bg-gray-100 rounded",children:[(0,s.jsxs)("p",{children:["\uD83D\uDCA1 ",(0,s.jsx)("strong",{children:"알림:"})," 로그인 시 항상 2차 인증과 필수 정보 동의 화면을 보시려면:"]}),(0,s.jsxs)("ul",{className:"list-disc pl-5 mt-1",children:[(0,s.jsx)("li",{children:"브라우저의 개인정보 보호 모드(시크릿 창)에서 로그인을 시도해 보세요."}),(0,s.jsx)("li",{children:"또는 브라우저 설정에서 쿠키와 사이트 데이터를 삭제한 후 시도해 보세요."})]})]})]}),(0,s.jsx)("div",{className:"mt-4 text-center text-sm text-gray-600",children:(0,s.jsx)(l(),{href:"/",className:"text-indigo-600 hover:text-indigo-500",children:"홈으로 돌아가기"})})]})})}function d(){return(0,s.jsx)(o.Suspense,{fallback:(0,s.jsx)("div",{className:"p-4 text-center",children:"로딩 중..."}),children:(0,s.jsx)(c,{})})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64086:(e,t,r)=>{Promise.resolve().then(r.bind(r,18980))},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},87646:(e,t,r)=>{Promise.resolve().then(r.bind(r,37710))},91645:e=>{"use strict";e.exports=require("net")},93076:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(24332),o=r(48819),a=r(67851),i=r.n(a),n=r(97540),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let c={children:["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,18980)),"D:\\Windsurf\\eat-meal-battle\\apps\\app\\src\\app\\login\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,20685)),"D:\\Windsurf\\eat-meal-battle\\apps\\app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["D:\\Windsurf\\eat-meal-battle\\apps\\app\\src\\app\\login\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[50,901,253,195],()=>r(93076));module.exports=s})();