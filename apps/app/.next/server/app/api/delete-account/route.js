(()=>{var e={};e.id=857,e.ids=[857],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80408:()=>{},81630:e=>{"use strict";e.exports=require("http")},84875:(e,r,t)=>{"use strict";t.d(r,{U:()=>i});var s=t(98811),o=t(65208);function i(){let e=(0,o.UL)();return(0,s.Ri)("https://izkumvvlkrkgiuuczffp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml6a3VtdnZsa3JrZ2l1dWN6ZmZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU0MTI3NzksImV4cCI6MjA2MDk4ODc3OX0.pQH_znuBuBfLBJdnMagX4_HE37Z8uraCp1_MaJFtEfc",{cookies:{get:r=>e.get(r)?.value,set(r,t,s){try{e.set(r,t,s)}catch(e){console.error(`Failed to set cookie ${r}`,e)}},remove(r,t){try{e.delete(r,t)}catch(e){console.error(`Failed to remove cookie ${r}`,e)}}}})}},86728:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>l,serverHooks:()=>m,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>x});var s={};t.r(s),t.d(s,{POST:()=>p,dynamic:()=>c});var o=t(48106),i=t(48819),u=t(12050),a=t(4235),n=t(84875);let c="force-dynamic";async function p(e){try{console.log("회원 탈퇴 API 호출 수신");let e=await (0,n.U)(),{data:{user:r},error:t}=await e.auth.getUser();if(t||!r)return console.error("인증된 사용자를 찾을 수 없음:",t),a.NextResponse.json({error:"인증된 사용자를 찾을 수 없습니다."},{status:401});console.log("회원 탈퇴 - 사용자 ID:",r.id);let{error:s}=await e.from("users").delete().eq("id",r.id);return s?console.error("사용자 데이터 삭제 오류:",s):console.log("DB에서 사용자 데이터 삭제 성공"),await e.auth.signOut(),console.log("세션 로그아웃 처리 완료"),a.NextResponse.json({success:!0,message:"사용자 데이터가 삭제되었습니다. 로그아웃이 완료되었습니다."})}catch(e){return console.error("계정 삭제 중 예외 발생:",e),a.NextResponse.json({error:e.message||"계정 삭제 중 오류가 발생했습니다."},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/delete-account/route",pathname:"/api/delete-account",filename:"route",bundlePath:"app/api/delete-account/route"},resolvedPagePath:"D:\\Windsurf\\eat-meal-battle\\apps\\app\\src\\app\\api\\delete-account\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:x,serverHooks:m}=l;function g(){return(0,u.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:x})}},87032:()=>{},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[50,744,156,811,208],()=>t(86728));module.exports=s})();